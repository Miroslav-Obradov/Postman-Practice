{"info":{"_postman_id":"e054bc0f-026b-4cd7-940f-6e72d2344cdf","name":"Bookstore","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Account","item":[{"name":"Create token","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"token\", pm.response.json().token);\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Notification for authorized user\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.result).to.eql(\"User authorized successfully.\");\r","});\r","\r","pm.test(\"Message is 'Success'\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.status).to.eql(\"Success\");\r","});"],"type":"text/javascript","id":"8b77c9dd-73ec-4461-b91d-807a54cea810"}}],"id":"734dba3d-380c-44de-84a4-0a63ced2bcb0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{username}}\",\r\n  \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{tokenResource}}","host":["{{baseURI}}"],"path":["{{tokenResource}}"]}},"response":[]},{"name":"User is authorized","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body is correct\", function () {\r","    pm.response.to.have.body(\"true\");\r","});"],"type":"text/javascript","id":"fd25eb7a-9e6b-437f-bd67-dd576f363c05"}}],"id":"d2763fc7-ed9b-40de-b9de-9daa6e634ff6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"userName\": \"{{username}}\",\r\n    \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{authorizedResource}}","host":["{{baseURI}}"],"path":["{{authorizedResource}}"]}},"response":[]},{"name":"Create user","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"userID\", pm.response.json().userID);\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test(\"Response shows username\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.username).to.eql(pm.environment.get(\"username\"));\r","});"],"type":"text/javascript","id":"1179fd6e-d4c5-4c84-8b00-1f4e8a86794c"}}],"id":"7eb98ed8-e89a-4bcc-b487-b8e65b535656","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"userName\": \"{{username}}\",\r\n    \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{userResource}}","host":["{{baseURI}}"],"path":["{{userResource}}"]}},"response":[]},{"name":"Get user","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"UserID is present\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.userId).to.eql(pm.environment.get(\"userID\"));\r","});\r","\r","pm.test(\"Username is present\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.username).to.eql(pm.environment.get(\"username\"));\r","});"],"type":"text/javascript","id":"7fbc3222-32fc-4ce5-aeae-c1c2ce2e2df9"}}],"id":"f4a12d2c-dfe0-4f88-8d9e-d243ae70c329","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{token}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{userResource}}/{{userID}}","host":["{{baseURI}}"],"path":["{{userResource}}","{{userID}}"]}},"response":[]},{"name":"Delete user","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 204\", function () {\r","    pm.response.to.have.status(204);\r","});"],"type":"text/javascript","id":"52d514d2-814a-4efc-a130-095c51c93c27"}}],"id":"e8cdb556-33f7-4166-aded-f1ea2975d185","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"Bearer {{token}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{userResource}}/{{userID}}","host":["{{baseURI}}"],"path":["{{userResource}}","{{userID}}"]}},"response":[]}],"id":"c4c87c1c-af9a-45dd-982f-f2b8e46c73d9"},{"name":"Account Flow","item":[{"name":"Create user","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"userID\", pm.response.json().userID);\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test(\"Response shows username\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.username).to.eql(pm.environment.get(\"usernameFlow\"));\r","});"],"type":"text/javascript","id":"ffcfe3ae-b350-4146-8836-0716c85bcacf"}}],"id":"9ffe1c41-94fc-463f-b69f-a7687a65ecc3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{usernameFlow}}\",\r\n  \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{userResource}}","host":["{{baseURI}}"],"path":["{{userResource}}"]}},"response":[]},{"name":"Create token","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"token\", pm.response.json().token);\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Notification for authorized user\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.result).to.eql(\"User authorized successfully.\");\r","});\r","\r","pm.test(\"Message is 'Success'\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.status).to.eql(\"Success\");\r","});"],"type":"text/javascript","id":"1b551275-5175-4360-b645-85927e62fc8c"}}],"id":"3c83173c-6fc8-4944-9981-87fb08838549","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{usernameFlow}}\",\r\n  \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{tokenResource}}","host":["{{baseURI}}"],"path":["{{tokenResource}}"]}},"response":[]},{"name":"User is authorized","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body is correct\", function () {\r","    pm.response.to.have.body(\"true\");\r","});"],"type":"text/javascript","id":"5ffc05eb-f1a8-438d-a4b2-dd7f6629017d"}}],"id":"84749e15-f2f2-42d1-b1b4-b794de387775","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{usernameFlow}}\",\r\n  \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{authorizedResource}}","host":["{{baseURI}}"],"path":["{{authorizedResource}}"]}},"response":[]},{"name":"Get user","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"UserID is present\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.userId).to.eql(pm.environment.get(\"userID\"));\r","});\r","\r","pm.test(\"Username is present\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.username).to.eql(pm.environment.get(\"usernameFlow\"));\r","});"],"type":"text/javascript","id":"7e10243a-30f4-4012-91ca-53aafdd7db37"}}],"id":"0923156e-97e1-4145-b52e-20c999d1f3aa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{token}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{userResource}}/{{userID}}","host":["{{baseURI}}"],"path":["{{userResource}}","{{userID}}"]}},"response":[]},{"name":"Delete user","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 204\", function () {\r","    pm.response.to.have.status(204);\r","});"],"type":"text/javascript","id":"439c73b7-6111-490e-9cbf-d48563d9f1f1"}}],"id":"ccb59b07-7cb4-4c87-8192-b5c4899d0d16","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"Bearer {{token}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{userResource}}/{{userID}}","host":["{{baseURI}}"],"path":["{{userResource}}","{{userID}}"]}},"response":[]},{"name":"Get user after delete","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 401\", function () {\r","    pm.response.to.have.status(401);\r","});\r","\r","pm.test(\"Code is 1207\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.code).to.eql(\"1207\");\r","});\r","\r","pm.test(\"User not found\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.message).to.eql(\"User not found!\");\r","});"],"type":"text/javascript","id":"4da63547-9cef-4c52-8e0a-9da9f56eb048"}}],"id":"f7d0419c-c0e2-49d2-81c4-04535aef6dcf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{token}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{userResource}}/{{userID}}","host":["{{baseURI}}"],"path":["{{userResource}}","{{userID}}"]}},"response":[]}],"id":"d314c618-8da1-4f9c-99c1-1864c8e3fdcc"},{"name":"Bookstore","item":[{"name":"Create user","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"userIDbookstore\", pm.response.json().userID);\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test(\"Response shows username\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.username).to.eql(pm.environment.get(\"username\"));\r","});"],"type":"text/javascript","id":"67da2646-f935-4ecb-a06f-0be4a74ddf3e"}}],"id":"0db41597-055c-4dd2-98fe-64c59c0bb21c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"userName\": \"{{usernameBookstore}}\",\r\n    \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{userResource}}","host":["{{baseURI}}"],"path":["{{userResource}}"]}},"response":[]},{"name":"Create token","event":[{"listen":"test","script":{"exec":["pm.environment.set(\"bookstoreToken\", pm.response.json().token);\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Notification for authorized user\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.result).to.eql(\"User authorized successfully.\");\r","});\r","\r","pm.test(\"Message is 'Success'\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.status).to.eql(\"Success\");\r","});"],"type":"text/javascript","id":"33500b51-4203-4694-a765-8a05373a5b4a"}}],"id":"bd583f12-25ad-40f5-9ab6-13a45d83e5c6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{usernameBookstore}}\",\r\n  \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{tokenResource}}","host":["{{baseURI}}"],"path":["{{tokenResource}}"]}},"response":[]},{"name":"User is authorized","event":[{"listen":"test","script":{"exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body is correct\", function () {\r","    pm.response.to.have.body(\"true\");\r","});"],"type":"text/javascript","id":"724cd031-50f0-4940-aaae-9a781498dc21"}}],"id":"5bc98745-0cf5-45b6-a083-95cd8f3bd3b8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"userName\": \"{{usernameBookstore}}\",\r\n    \"password\": \"{{password}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{authorizedResource}}","host":["{{baseURI}}"],"path":["{{authorizedResource}}"]}},"response":[]},{"name":"Get all books","id":"6f19e6b4-38ff-4c02-a5ac-620facfa1b21","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{baseURI}}/{{allBooksResource}}","host":["{{baseURI}}"],"path":["{{allBooksResource}}"]}},"response":[]},{"name":"Add books to user","id":"2247ff7b-afa9-450e-8b27-ae849fc484a0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer {{bookstoreToken}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"userId\": \"{{userIDbookstore}}\",\r\n  \"collectionOfIsbns\": [\r\n    {\r\n      \"isbn\": \"{{ISBN1}}\"\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{allBooksResource}}","host":["{{baseURI}}"],"path":["{{allBooksResource}}"]}},"response":[]},{"name":"Remove books from user","id":"4c300782-2621-413a-8f31-65cc5f202e89","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"Bearer {{bookstoreToken}}","type":"text"}],"url":{"raw":"{{baseURI}}/{{allBooksResource}}?UserId={{userIDbookstore}}","host":["{{baseURI}}"],"path":["{{allBooksResource}}"],"query":[{"key":"UserId","value":"{{userIDbookstore}}"}]}},"response":[]},{"name":"Get single book","id":"97f0d5ed-37c3-4d72-b1eb-1d8b51454fe7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{baseURI}}/{{singleBookResource}}?ISBN={{ISBN1}}","host":["{{baseURI}}"],"path":["{{singleBookResource}}"],"query":[{"key":"ISBN","value":"{{ISBN1}}"}]}},"response":[]}],"id":"3560766a-d59f-433c-829d-92af706462ca"},{"name":"Loop","item":[{"name":"Create user loop","event":[{"listen":"test","script":{"exec":["const usernames = pm.collectionVariables.get(\"usernames\");\r","\r","if (usernames && usernames.length > 0){\r","    postman.setNextRequest(\"Loop Post Parameter\");\r","} else {\r","    postman.setNextRequest(null);\r","}\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});"],"type":"text/javascript","id":"8b4dbec7-be2b-47ea-b33c-e13511dcf9bb"}},{"listen":"prerequest","script":{"exec":["let usernames = pm.collectionVariables.get(\"usernames\");\r","\r","if(!usernames || usernames.length == 0) {\r","    usernames = [\"ITBOOTCAMP1121\", \"itbootcamp1121\", \"IT1112 2Bootcamp\", \"it11132 bootcamp\", \"it B2oot4111\"];\r","}\r","\r","let currentUsername = usernames.shift();\r","pm.collectionVariables.set(\"username\", currentUsername);\r","pm.collectionVariables.set(\"usernames\", usernames);"],"type":"text/javascript","id":"bd4d8baa-11a9-4d27-86c4-a9199b138a92"}}],"id":"8f3e846a-fb33-4c99-97ac-558b7fe262ea","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"{{username}}\",\r\n  \"password\": \"Qwerty123!@#\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseURI}}/{{userResource}}","host":["{{baseURI}}"],"path":["{{userResource}}"]}},"response":[]}],"id":"ef1703f8-d024-4b08-989c-0eb983e74693"}],"variable":[{"id":"cacb39d0-7674-4e5d-b004-24e1592c2d42","key":"username","value":""},{"id":"b37822d1-db40-4553-8dfa-88798e6b7722","key":"usernames","value":""}]}